{% extends 'products/base.html' %}
{% comment %} {% block title %}Trang ch·ªß | Cosmetic Shop{% endblock %} {% endcomment %}
{% block content %}
<!-- Banner ch√≠nh Cosmetic Shop -->
<div class="row mt-4">
    <div class="col-12">
        <div class="rounded shadow-sm p-4 mb-4 text-center" style="background: linear-gradient(90deg, #ff69b4 0%, #221b29 100%); color: #fff;">
            <h2 style="font-weight:bold;letter-spacing:2px;">
                <a href="/" style="color:inherit;text-decoration:none;">Ch√†o m·ª´ng ƒë·∫øn v·ªõi Cosmetic Shop</a>
            </h2>
            <p style="font-size:1.2rem;">N∆°i h·ªôi t·ª• c√°c s·∫£n ph·∫©m l√†m ƒë·∫πp ch√≠nh h√£ng, gi√° t·ªët, ∆∞u ƒë√£i m·ªói ng√†y!</p>
            <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=facearea&w=800&h=300&facepad=2" alt="Cosmetic Shop Banner" class="img-fluid rounded shadow mt-3" style="max-height:220px;">
        </div>
    </div>
</div>

<!-- Danh m·ª•c s·∫£n ph·∫©m n·ªïi b·∫≠t -->
<div class="row mt-4">
    <div class="col-12">
        <h3 class="mb-4" style="color:#ff69b4;font-weight:bold;">Danh m·ª•c s·∫£n ph·∫©m</h3>
        <div class="d-flex flex-wrap gap-3 justify-content-center">
            {% for category in categories %}
            <a href="{% url 'product_list' %}?category={{ category.id }}" class="btn btn-auth" style="min-width:180px;">{{ category.name }}</a>
            {% empty %}
            <span class="text-muted">Ch∆∞a c√≥ danh m·ª•c n√†o.</span>
            {% endfor %}
        </div>
    </div>
</div>

<!-- S·∫£n ph·∫©m n·ªïi b·∫≠t -->
<div class="row mt-4">
    <div class="col-12">
        <div class="d-flex justify-content-between align-items-center mb-2">
            <h3 style="color:#ff69b4;font-weight:bold;">S·∫£n ph·∫©m n·ªïi b·∫≠t</h3>
            <a href="{% url 'product_list' %}" class="btn btn-auth btn-sm">Xem t·∫•t c·∫£ s·∫£n ph·∫©m</a>
        </div>
        <div class="row">
            {% for product in products %}
            <div class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm" style="background:#221b29;border:1px solid #ff69b4;">
                    {% if product.image %}
                    <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}">
                    {% else %}
                    <img src="https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=400&q=80" class="card-img-top" alt="{{ product.name }}">
                    {% endif %}
                    <div class="card-body">
                        <h5 class="card-title" style="color:#ff69b4;">{{ product.name }}</h5>
                        <p class="card-text">Th∆∞∆°ng hi·ªáu: <span style="color:#fff0f6">{{ product.brand }}</span></p>
                        <p class="card-text">Gi√°: <strong style="color:#ff69b4">{{ product.price|floatformat:0 }}‚Ç´</strong></p>
                        <a href="{% url 'product_detail' product.id %}" class="btn btn-auth btn-sm w-100">Xem chi ti·∫øt</a>
                    </div>
                </div>
            </div>
            {% empty %}
            <p class="text-center">Ch∆∞a c√≥ s·∫£n ph·∫©m n√†o.</p>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}

<!-- Section: Khuy·∫øn m√£i ƒë·ªông -->
<div class="row mt-5">
    <div class="col-12">
        <div class="rounded shadow-sm p-4 mb-4" style="background:linear-gradient(90deg,#ffb6e6 0%,#221b29 100%);color:#18141c;">
            <div class="d-flex justify-content-between align-items-center">
                <h4 style="color:#ff69b4;font-weight:bold;">üéÅ Khuy·∫øn m√£i ƒë·∫∑c bi·ªát</h4>
                <a href="/promotions/" class="btn btn-auth">Xem t·∫•t c·∫£ khuy·∫øn m√£i</a>
            </div>
            <div class="row mt-3">
                {% for product in promotions %}
                <div class="col-md-4 mb-3">
                    <div class="card h-100">
                        <img src="{{ product.image.url if product.image else 'https://img.icons8.com/color/96/ff69b4/lipstick.png' }}" class="card-img-top" alt="{{ product.name }}">
                        <div class="card-body">
                            <h5 class="card-title">{{ product.name }}</h5>
                            <p class="card-text">Th∆∞∆°ng hi·ªáu: {{ product.brand }}</p>
                            <p class="card-text">Gi√°: <span class="fw-bold">{{ product.price|floatformat:0 }}‚Ç´</span></p>
                            <a href="/products/{{ product.id }}/" class="btn btn-primary">Xem chi ti·∫øt</a>
                        </div>
                    </div>
                </div>
                {% empty %}
                <p class="text-muted">Hi·ªán ch∆∞a c√≥ s·∫£n ph·∫©m khuy·∫øn m√£i.</p>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

<!-- Section: Flash Sale ƒë·ªông -->
<div class="row mt-4">
    <div class="col-12">
        <div class="rounded shadow-sm p-4 mb-4" style="background:#221b29;color:#fff;">
            <h4 style="color:#ff69b4;font-weight:bold;">‚ö° Flash Sale</h4>
            <div class="row">
                {% for product in flash_sales %}
                <div class="col-md-4 mb-3">
                    <div class="card h-100 border-danger">
                        <img src="{{ product.image.url if product.image else 'https://img.icons8.com/color/96/ff69b4/lipstick.png' }}" class="card-img-top" alt="{{ product.name }}">
                        <div class="card-body">
                            <h5 class="card-title">{{ product.name }}</h5>
                            <p class="card-text">Th∆∞∆°ng hi·ªáu: {{ product.brand }}</p>
                            <p class="card-text text-danger">Gi√° Flash Sale: <span class="fw-bold">{{ product.price|floatformat:0 }}‚Ç´</span></p>
                            <a href="/products/{{ product.id }}/" class="btn btn-danger">Xem chi ti·∫øt</a>
                        </div>
                    </div>
                </div>
                {% empty %}
                <p class="text-muted">Hi·ªán ch∆∞a c√≥ s·∫£n ph·∫©m Flash Sale.</p>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

<!-- Section: Coco News ƒë·ªông -->
<div class="row mt-4">
    <div class="col-12">
        <div class="rounded shadow-sm p-4 mb-4" style="background:linear-gradient(90deg,#ff69b4 0%,#fff0f6 100%);color:#18141c;">
            <h4 style="color:#ff69b4;font-weight:bold;">üì∞ Coco News</h4>
            <ul class="mb-0" style="font-size:1.1rem;">
                {% for news in news_list %}
                <li><strong>{{ news.title }}</strong> - {{ news.created_at|date:'d/m/Y' }}</li>
                {% empty %}
                <li class="text-muted">Ch∆∞a c√≥ tin t·ª©c n√†o.</li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>

<!-- Section: Th∆∞∆°ng hi·ªáu n·ªïi b·∫≠t ƒë·ªông -->
<div class="row mt-4">
    <div class="col-12">
        <div class="rounded shadow-sm p-4 mb-4" style="background:#fff0f6;color:#18141c;">
            <h4 style="color:#ff69b4;font-weight:bold;">üå∏ Th∆∞∆°ng hi·ªáu n·ªïi b·∫≠t</h4>
            <div class="d-flex flex-wrap gap-4 justify-content-center align-items-center mt-3">
                {% for brand in brands %}
                <span class="badge bg-primary text-light p-3 m-2" style="font-size:1.1rem;">{{ brand }}</span>
                {% empty %}
                <span class="text-muted">Ch∆∞a c√≥ th∆∞∆°ng hi·ªáu n√†o.</span>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

<!-- Section: H·ªá th·ªëng c·ª≠a h√†ng & Tra c·ª©u ƒë∆°n h√†ng ƒë·ªông -->
<div class="row mt-4 mb-5">
    <div class="col-md-6 mb-3">
        <div class="rounded shadow-sm p-4 h-100" style="background:#221b29;color:#fff;">
            <h4 style="color:#ff69b4;font-weight:bold;">üè¨ H·ªá th·ªëng c·ª≠a h√†ng</h4>
            <ul class="mb-0" style="font-size:1.1rem;">
                {% for store in stores %}
                <li>{{ store.name }}: {{ store.address }}</li>
                {% empty %}
                <li class="text-muted">Ch∆∞a c√≥ c·ª≠a h√†ng n√†o.</li>
                {% endfor %}
            </ul>
        </div>
    </div>
    <div class="col-md-6 mb-3">
        <div class="rounded shadow-sm p-4 h-100" style="background:#fff0f6;color:#18141c;">
            <h4 style="color:#ff69b4;font-weight:bold;">üîé Tra c·ª©u ƒë∆°n h√†ng</h4>
            <form class="row g-2">
                <div class="col-8">
                    <input type="text" class="form-control" placeholder="Nh·∫≠p m√£ ƒë∆°n h√†ng...">
                </div>
                <div class="col-4">
                    <button type="button" class="btn btn-auth w-100">Tra c·ª©u</button>
                </div>
            </form>
            <div class="form-text mt-2">Vui l√≤ng nh·∫≠p m√£ ƒë∆°n h√†ng ƒë·ªÉ ki·ªÉm tra tr·∫°ng th√°i.</div>
        </div>
    </div>
</div>
